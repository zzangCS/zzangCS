## 1.1.2 팩토리 패턴 (Factory Pattern) - 팩토리 메소드, 추상 팩토리

> 객체 생성 부분을 분리하여 추상화한 패턴
- 상속 관계에 있는 두 클래스에서 상위 클래스가 중요한 뼈대를 결정하고, 하위클래스에서 객체 생성에 관한 구체적인 내용 결정
- 종류 : 팩토리 메소드 패턴, 추상 팩토리 패턴

#### 장점

1. 상 / 하위 클래스 분리 -> 결합도 감소, 유지 보수성 증가
2. 유연성 증가 -> 동일한 프로퍼티를 가진 여러 작은 객체 생성 시 유용


[//]: # (- 정적 메서드)

[//]: # (  - 클래스의 인스턴스 없이 호출 가능 -> 메모리 절약)

[//]: # (  - 개별 인스턴스에 묶이지 않으며 클래스 내의 함수 정의 가능)


### 추상 팩토리 패턴 (Abstract Factory Pattern)

- 서로 연관되거나 의존적인 객체들의 조합을 만드는 인터페이스 제공하는 패턴
- 연관된 서브 클래스를 그룹화 (관련성 있는 여러 종류의 객체를 일관된 방식으로 생성할 때 유용)

#### 예제

```javascript
class StarbucksAmericano {
  constructor() {
    this.name = '스타벅스 아메리카노';
  }
}

class StarbucksVanillaLatte {
  constructor() {
    this.name = '스타벅스 바닐라 라떼';
  }
}

class HollysAmericano {
  constructor() {
    this.name = '할리스 커피 아메리카노';
  }
}

class HollysVanillaLatte {
  constructor() {
    this.name = '할리스 커피 바닐라 라떼';
  }
}

class StarbucksCoffee {
  static createAmericano() {
    return new StarbucksAmericano();
  }

  static createVanillaLatte() {
    return new StarbucksVanillaLatte();
  }
}

class HollysCoffee {
  static createAmericano() {
    return new HollysAmericano();
  }

  static createVanillaLatte() {
    return new HollysVanillaLatte();
  }
}

class CoffeeFactory {
  static createCoffee(factory) {
    const americano = factory.createAmericano();
    const vanillaLatte = factory.createVanillaLatte();

    return {americano, vanillaLate};
  }
}

const main = (type) => {
  const {americano, vanillaLate} = CoffeeFactory.createCoffee(type);
  console.log(americano.name, vanillaLate.name);
}

main(StarbucksCoffee); // 스타벅스 아메리카노, 스타벅스 바닐라라떼
```

### 팩토리 메소드 패턴 (Factory Method Pattern)

- 객체를 생성하는 인터페이스는 미리 정의하되, 객체 생성은 서브클래스(팩토리)로 위임
- 객체를 생성해서 반환 -> 결과값이 객체
- 객체 생성의 변화가 자주 일어나는 경우 사용

#### 예제

```javascript
class Latte {
  constructor() {
    this.name = 'latte';
  }
}

class Espresso {
  constructor() {
    this.name = 'Espresso';
  }
}

// 하위 클래스 - 라떼
class LatteFactory {
  static createCoffee() {
    return new Latte();
  }
}

// 하위 클래스 - 에스프레소
class EspressoFactory {
  static createCoffee() {
    return new Espresso();
  }
}

const factoryList = {LatteFactory, EspressoFactory};

// 상위 클래스
class CoffeFactory {
  static createCoffee(type) {
    const factory = factoryList[type];
    return factory.createCoffee();
  }
}

const main = () => {
  const coffee = CoffeeFactory.createCoffee('LatteFactory'); // 라떼 커피 주문
  console.log(coffee.name);
}

main(); // latte
```


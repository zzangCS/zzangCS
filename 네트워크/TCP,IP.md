# 네트워크

[컴퓨터 네트워크](http://www.kocw.net/home/search/kemView.do?kemId=1159726)

# 네트워크 기초

---

## 네트워크

> **노드와 링크가 서로 연결되어 리소스를 공유하는 집합**
노드 - 서버, 라우터, 스위치
링크 - 유선, 무선
> 

### 좋은 네트워크란

1. 많은 처리량
2. 짧은 지연 시간
3. 적은 장애 빈도
4. 좋은 보안

### 처리량

> 단위 시간당 데이터양 (bps)
초당 전송, 수신되는 비트 수
> 
- 트래픽
- 대역폭 : 일정 시간 동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수
- 하드웨어 스펙

### 지연 시간

> 요청이 처리되는 시간 = 두 장치 사이를 왕복하는 데 걸린 시간
> 
- 매체타입
- 패킷크기
- 라우터의 패킷처리시간

## 네트워크 토폴로지

> 네트워크 연결형태
> 
1. 트리 토폴로지
    - 노드 추가, 삭제가 용이
    - 특정 노드에 집중될 때 하위 노드에 영향 끼칠 수 있음
2. 버스 토폴로지
    - 근거리 통신망(LAN)에서 사용
    - 스푸핑 가능 - 패킷이 악의적인 노드에 전달되게 됨.
3. 스타 토폴로지
    - 패킷 충돌 가능성 적음
    - 에러 쉽게 발견 가능
    - 중앙 노드에 장애가 발생하면 전체 네트워크 사용 불가
4. 링형 토폴로지
    - 노드 수가 증가되어도 네트워크상의 손실 적음
    - 네트워크 구성 변경이 어렵고 회선에 장애가 발생하면 전체 네트워크에 영향 끼침
5. 메시 토폴로지
    - 트래픽 분산처리 가능
    - 노드 추가가 어렵고 구축, 운영 비용이 고가임

# TCP/IP 4계층 모델

![Untitled](%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%202613c41a0a4f403cb56ceaac892c95e4/Untitled.png)

> 인터넷 프로토콜 스위트로, 인터넷에서 컴퓨터들이 서로 정보를 주고받는 데 쓰이는 프로토콜의 집합
4계층은 프로토콜의 네트워킹 범위에 따라 구성됨
> 

### TCP/IP

> 데이터가 의도된 목적지에 닿을 수 있도록 보장해주는 통신 프로토콜
TCP와 IP 2개로 이루어져 있음
> 

[TCP/IP 계층](https://ikersyit.tistory.com/3)

![Untitled](%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%202613c41a0a4f403cb56ceaac892c95e4/Untitled%201.png)

### 통신 단위

- 물리 계층 - 비트
- 데이터링크 계층 - 프레임
- 네트워크 계층 - 데이터그램
- 전송 계층 - 프로토콜에 따라
    - TCP (전송 제어 프로토콜) -
    - UDP (사용자 데이터그램 프로토콜) - 데이터그램
    - SCTP (스트림 제어 전송 프로토콜) -

### 왜 두 프로토콜을 사용해야 할까?

클라이언트와 서버는 각각 IP 주소를 가지고 있고, IP 주소에 패킷(출발지IP, 목적지IP, 전송데이터 등) 단위로 데이터를 전송한다. 전송된 데이터는 노드를 거쳐 목적지에 도달하게 된다. 

그러나 IP 프로토콜에는 한계가 있다.

1. 클라이언트에서는 대상 서버가 패킷을 받을 수 있는 상태인지 확인할 수 없다.
    - 받을 대상이 없거나 서비스가 불가능해도(연결x 상태) 패킷을 전송한다. ⇒ **비연결성**
2. 노드에 문제가 생긴 경우 패킷이 안전하게 도달하지 못하거나 전송 순서가 바뀔 수 있다. ⇒ **비신뢰성**
3. 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이라면 IP만으로 구별할 수 없다.

⇒ 이걸 해결해주는게 TCP!!

## 애플리케이션 계층

> 서비스를 실질적으로 사람들에게 제공하는 층
> 

## 전송 계층

> TCP & UDP
> 
- TCP : 패킷 사이의 순서를 보장, 연결지향 프로토콜-신뢰성 구축 → 수신 여부 확인 = ‘가상회선 패킷 교환 방식’
- UDP : 순서 보장x, 수신 여부 확인x, 단순 데이터 ‘데이터그램 패킷 교환 방식’

### 데이터그램 패킷 교환 방식 (UDP)

데이터를 전송하기 전에는 논리적 연결이 설정되지 않으며 패킷이 독립적으로 전송 ⇒ 데이터그램

패킷을 수신한 라우터는 최적의 경로를 선택하여 패킷을 전송하는데 하나의 메세지에서 분할된 여러 패킷은 서로 다른 경로로 전송될 수 있다. (비연결 지향형)

- 패킷의 독립적 이동
- 패킷이 도착한 순서가 다를 수 있음

### 가상회선 패킷 교환 방식 (TCP) ⇒ 비연결성 해결

데이터를 전송하기 전에 논리적 연결이 설정 → 가상회선(연결지향형)
각 패킷에는 가상회선 식별 번호가 포함되고, 모든 패킷을 전송하면 가상회선이 해제되고 패킷들은 전송된 순서대로 도착한다.

- 데이터 그램
    - 패킷마다 라우터가 경로를 선택
    - 짧은 메세지의 일시적 전송에 적합
- 가상회선 방식
    - 경로를 설정할 때 한 번만 수행
    - 정해진 시간 안의 대량 데이터를 연속으로 보낼 때 적합

---

### TCP 연결 성립 과정 ⇒ 비신뢰성 해결

- client → server : SYN
- server → client : SYN, ACK
- client → server : ACK

> 데이터 전송 실패 시 클라이언트에서 확인할 수 있고, TCP/IP 패킷에 담긴 순서 정보와 다른 순서로 데이터 수신 시 전송을 재요청하므로, 순서를 보장할 수 있다.
> 

### 3-웨이 핸드쉐이크

![Untitled](%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%202613c41a0a4f403cb56ceaac892c95e4/Untitled%202.png)

1. 가상 연결 후 메세지 전송
2. 클라이언트의 접속 요청(SYN)을 받으면 서버는 클라이언트에 요청 수락 메세지와(ACK) 접속 요청(SYN)을 회신한다.
3. 응답을 받은 클라이언트도 요청 수락 메세지(ACK)를 보내면 성공적으로 연결된다.

> 이를 통해 대상이 서비스 가능한 상태임을 확인한 후에 프로세스를 진행하므로 무의미한 데이터 전송을 방지할 수 있다.
UDP는 이와 같은 과정이 없다.
> 

### TCP 연결 해제 과정

### 4-웨이 핸드쉐이크

### UDP
